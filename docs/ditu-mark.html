<!DOCTYPE html><html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <title>DITU MARK</title> <link href="http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet" type="text/css"> <link rel="stylesheet" href="mini-default.min.1469ec79.css"> <style>#container,body,html{height:100%;width:100%}.amap-icon img,.amap-marker-content img{width:25px;height:34px}.marker{position:absolute;top:-20px;right:-118px;color:#fff;padding:4px 10px;box-shadow:1px 1px 1px rgba(10,10,10,.2);white-space:nowrap;font-size:12px;background-color:#25a5f7;border-radius:3px}</style> </head> <body> <div id="container"></div> <label for="modal-control" style="position:fixed;top:100px;right:100px;z-index:999;background-color:bisque;">显示配置</label> <input type="checkbox" id="modal-control" class="modal"> <div> <div class="card" style="max-width:780px;"> <label for="modal-control" class="modal-close"></label> <h3 class="section">配置</h3> <div class="row" id="navContainer"> <button class="small nav-btn" data-to="dCenter" id="nav-default">设置中心</button> <button class="small nav-btn" data-to="dMark">标记POI</button> <button class="small nav-btn" data-to="dSearch">搜索POI</button> </div> <div id="dCenter" class="nav-content"> <legend>地图中心</legend> <input type="text" class="center-input" id="centerLat" placeholder="经度" value="39.90923 "> <input type="text" class="center-input" id="centerLng" placeholder="纬度" value="116.397428"> <button class="primary" onclick="setCenter()">确定</button> </div> <div id="dMark" class="nav-content"> <legend>要标记的POI列表</legend> <textarea placeholder="名字,经度,纬度" id="pois" style="width:96%"></textarea> <button class="primary" onclick="markIt()">确定标记</button> </div> <div id="dSearch" class="nav-content"> <legend>输入城市和POI名</legend> <input type="text" class="search-input" id="searchCity" value="杭州"> <input type="text" class="search-input" id="searchPOI" value="西湖国际中心"> <button class="primary" onclick="search()">搜索</button> <br> <pre id="searchResult"></pre> </div> </div> </div>  <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=8dc0e082257bfba1367acb9fbc014f62&plugin=AMap.PlaceSearch"></script> <script type="text/javascript" src="https://cache.amap.com/lbs/static/PlaceSearchRender.js"></script> <script>function e(){Array.from(document.querySelectorAll(".nav-content")).forEach(function(e){return e.style.display="none"}),Array.from(document.querySelectorAll(".nav-btn")).forEach(function(e){return e.className=e.className.replace("inverse"," ").trim()})}function n(n){var t=n.dataset.to;t&&(e(),document.getElementById(t).style.display="block",n.className+=" inverse ")}function t(){a.setCenter([document.getElementById("centerLng").value-0,document.getElementById("centerLat").value-0])}function o(){new AMap.PlaceSearch({city:document.getElementById("searchCity").value}).search(document.getElementById("searchPOI").value,function(e,n){console.log(n);var t=n.poiList.count?n.poiList.pois[0]:{};document.getElementById("searchResult").innerHTML="\n".concat(t.location.lat," ").concat(t.location.lng,"  ").concat(t.address,"\n        ")})}e(),n(document.getElementById("nav-default")),document.getElementById("navContainer").addEventListener("click",function(e){n(e.target)});var a=new AMap.Map("container",{resizeEnable:!0,center:[120.159949,30.257373],zoom:13}),c=[];function r(e){var n=e.position,t=e.text,o=e.color,r=new AMap.Marker({icon:"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",position:n,offset:new AMap.Pixel(-1,-1)});r.setMap(a);var l=document.createElement("span");l.className="marker",l.style.backgroundColor=o,l.innerHTML=t,r.setContent(l),c.push(r)}function l(){c.forEach(function(e,n){e.setMap(null),c[n]=null}),c=c.filter(Boolean)}window.markIt=function(){l();document.getElementById("pois").value.split("\n").map(function(e){var n=e.split(/\s+/);if(n[2])return{text:n[0],position:[n[2]-0,n[1]-0],color:n[3]||"#1976d2"}}).filter(Boolean).forEach(function(e){return r(e)});alert("done")};</script> </body> </html>